window.curentdatabase = $('span#curentdatabase').text();

$(document).ready(function() {
    if(curentdatabase == '') {
        $('li.newtable').css({'display':'none'});
    }
    
    var i = 1;
    var tr = '<tr data="'+i+'"><td><input type="text" name="field_name['+i+']"></td><td><select name="field_type['+i+']"><option value="INT">INT</option><option value="VARCHAR">VARCHAR</option><option value="TEXT">TEXT</option><option value="DATE">DATE</option><optgroup label="Числовые"><option value="TINYINT">TINYINT</option><option value="SMALLINT">SMALLINT</option><option value="MEDIUMINT">MEDIUMINT</option><option value="INT">INT</option><option value="BIGINT">BIGINT</option><option value="DECIMAL">DECIMAL</option><option value="FLOAT">FLOAT</option><option value="DOUBLE">DOUBLE</option><option value="REAL">REAL</option><option value="BIT">BIT</option><option value="BOOLEAN">BOOLEAN</option><option value="SERIAL">SERIAL</option></optgroup><optgroup label="Дата и время"><option value="DATE">DATE</option><option value="DATETIME">DATETIME</option><option value="TIMESTAMP">TIMESTAMP</option><option value="TIME">TIME</option><option value="YEAR">YEAR</option></optgroup><optgroup label="Символьные"><option value="CHAR">CHAR</option><option value="VARCHAR">VARCHAR</option><option value="TINYTEXT">TINYTEXT</option><option value="TEXT">TEXT</option><option value="MEDIUMTEXT">MEDIUMTEXT</option><option value="LONGTEXT">LONGTEXT</option><option value="BINARY">BINARY</option><option value="VARBINARY">VARBINARY</option><option value="VARBINARY">TINYBLOB</option><option value="MEDIUMBLOB">MEDIUMBLOB</option><option value="BLOB">BLOB</option><option value="LONGBLOB">LONGBLOB</option><option value="ENUM">ENUM</option><option value="SET">SET</option></optgroup><optgroup label="Пространственные"><option value="GEOMETRY">GEOMETRY</option><option value="POINT">POINT</option><option value="LINESTRING">LINESTRING</option><option value="POLYGON">POLYGON</option><option value="MULTIPOINT">MULTIPOINT</option><option value="MULTILINESTRING">MULTILINESTRING</option><option value="MULTIPOLYGON">MULTIPOLYGON</option><option value="GEOMETRYCOLLECTION">GEOMETRYCOLLECTION</option></optgroup><optgroup label="JSON"><option value="JSON">JSON</option></optgroup></select></td><td><input type="text" name="field_length['+i+']"><p class="enum_notice" id="enum_notice_0_3" style="display: none;"><a href="#" class="open_enum_editor">Редактировать ENUM/SET значения</a></p></td><td><select data="'+i+'" name="field_default_type['+i+']" class="field_default_type"><option value="NONE">Нет</option><option value="USER_DEFINED">Как определено:</option><option value="NULL">NULL</option><option value="CURRENT_TIMESTAMP">CURRENT_TIMESTAMP</option></select><input type="text" name="field_default_value['+i+']" style="display: none;"></td><td><select name="field_collation['+i+']"><option value=""></option><optgroup label="armscii8" title="ARMSCII-8 Armenian"><option value="armscii8_bin" title="Армянский, двоичный">armscii8_bin</option><option value="armscii8_general_ci" title="Армянский, регистронезависимый">armscii8_general_ci</option></optgroup><optgroup label="ascii" title="US ASCII"><option value="ascii_bin" title="Западно-Европейский, двоичный">ascii_bin</option><option value="ascii_general_ci" title="Западно-Европейский, регистронезависимый">ascii_general_ci</option></optgroup><optgroup><option value="big5_bin">big5_bin</option><option value="big5_chinese_ci" >big5_chinese_ci</option></optgroup><optgroup label="binary"><option value="binary">binary</option></optgroup><optgroup label="cp1250"><option value="cp1250_bin">cp1250_bin</option><option value="cp1250_croatian_ci" title="Хорватский, регистронезависимый">cp1250_croatian_ci</option><option value="cp1250_czech_cs" title="Чешский, регистрозависимый">cp1250_czech_cs</option><option value="cp1250_general_ci" title="Центрально-Европейский, регистронезависимый">cp1250_general_ci</option><option value="cp1250_polish_ci" title="Польский, регистронезависимый">cp1250_polish_ci</option></optgroup><optgroup label="cp1251" title="Windows Cyrillic"><option value="cp1251_bin" title="Кириллический, двоичный">cp1251_bin</option><option value="cp1251_bulgarian_ci" title="Болгарский, регистронезависимый">cp1251_bulgarian_ci</option><option value="cp1251_general_ci" title="Кириллический, регистронезависимый">cp1251_general_ci</option><option value="cp1251_general_cs" title="Кириллический, регистрозависимый">cp1251_general_cs</option><option value="cp1251_ukrainian_ci" title="Украинский, регистронезависимый">cp1251_ukrainian_ci</option></optgroup><optgroup label="cp1256" title="Windows Arabic"><option value="cp1256_bin" title="Арабский, двоичный">cp1256_bin</option><option value="cp1256_general_ci" title="Арабский, регистронезависимый">cp1256_general_ci</option></optgroup><optgroup label="cp1257" title="Windows Baltic"><option value="cp1257_bin" title="Балтийский, двоичный">cp1257_bin</option<option value="cp1257_general_ci" title="Балтийский, регистронезависимый">cp1257_general_ci</option><option value="cp1257_lithuanian_ci" title="Литовский, регистронезависимый">cp1257_lithuanian_ci</option></optgroup><optgroup label="cp850" title="DOS West European"><option value="cp850_bin" title="Западно-Европейский, двоичный">cp850_bin</option><option value="cp850_general_ci" title="Западно-Европейский, регистронезависимый">cp850_general_ci</option></optgroup><optgroup label="cp852" title="DOS Central European"><option value="cp852_bin" title="Центрально-Европейский, двоичный">cp852_bin</option><option value="cp852_general_ci" title="Центрально-Европейский, регистронезависимый">cp852_general_ci</option></optgroup><optgroup label="cp866" title="DOS Russian"><option value="cp866_bin" title="Русский, двоичный">cp866_bin</option><option value="cp866_general_ci" title="Русский, регистронезависимый">cp866_general_ci</option></optgroup><optgroup label="cp932" title="SJIS for Windows Japanese"><option value="cp932_bin" title="Японский, двоичный">cp932_bin</option><option value="cp932_japanese_ci" title="Японский, регистронезависимый">cp932_japanese_ci</option></optgroup><optgroup label="dec8" title="DEC West European"><option value="dec8_bin" title="Западно-Европейский, двоичный">dec8_bin</option><option value="dec8_swedish_ci" title="Шведский, регистронезависимый">dec8_swedish_ci</option></optgroup><optgroup label="eucjpms" title="UJIS for Windows Japanese"><option value="eucjpms_bin" title="Японский, двоичный">eucjpms_bin</option><option value="eucjpms_japanese_ci" title="Японский, регистронезависимый">eucjpms_japanese_ci</option></optgroup><optgroup label="euckr" title="EUC-KR Korean"><option value="euckr_bin" title="Корейский, двоичный">euckr_bin</option><option value="euckr_korean_ci" title="Корейский, регистронезависимый">euckr_korean_ci</option></optgroup><optgroup label="gb18030" title="China National Standard GB18030"><option value="gb18030_bin" title="Китайский, двоичный">gb18030_bin</option><option value="gb18030_chinese_ci" title="Китайский, регистронезависимый">gb18030_chinese_ci</option><option value="gb18030_unicode_520_ci" title="Китайский (UCA 5.2.0), регистронезависимый">gb18030_unicode_520_ci</option></optgroup><optgroup label="gb2312" title="GB2312 Simplified Chinese"><option value="gb2312_bin" title="Китайский упрощенный, двоичный">gb2312_bin</option><option value="gb2312_chinese_ci" title="Китайский упрощенный, регистронезависимый">gb2312_chinese_ci</option></optgroup><optgroup label="gbk" title="GBK Simplified Chinese"><option value="gbk_bin" title="Китайский упрощенный, двоичный">gbk_bin</option><option value="gbk_chinese_ci" title="Китайский упрощенный, регистронезависимый">gbk_chinese_ci</option></optgroup><optgroup label="geostd8" title="GEOSTD8 Georgian"><option value="geostd8_bin" title="Грузинский, двоичный">geostd8_bin</option><option value="geostd8_general_ci" title="Грузинский, регистронезависимый">geostd8_general_ci</option></optgroup><optgroup label="greek" title="ISO 8859-7 Greek"><option value="greek_bin" title="Греческий, двоичный">greek_bin</option><option value="greek_general_ci" title="Греческий, регистронезависимый">greek_general_ci</option></optgroup><optgroup label="hebrew" title="ISO 8859-8 Hebrew"><option value="hebrew_bin" title="Иврит, двоичный">hebrew_bin</option><option value="hebrew_general_ci" title="Иврит, регистронезависимый">hebrew_general_ci</option></optgroup><optgroup label="hp8" title="HP West European"><option value="hp8_bin" title="Западно-Европейский, двоичный">hp8_bin</option><option value="hp8_english_ci" title="Английский, регистронезависимый">hp8_english_ci</option></optgroup><optgroup label="keybcs2" title="DOS Kamenicky Czech-Slovak"><option value="keybcs2_bin" title="Чехословацкий, двоичный">keybcs2_bin</option><option value="keybcs2_general_ci" title="Чехословацкий, регистронезависимый">keybcs2_general_ci</option></optgroup><optgroup label="koi8r" title="KOI8-R Relcom Russian"><option value="koi8r_bin" title="Русский, двоичный">koi8r_bin</option><option value="koi8r_general_ci" title="Русский, регистронезависимый">koi8r_general_ci</option></optgroup><optgroup label="koi8u" title="KOI8-U Ukrainian"><option value="koi8u_bin" title="Украинский, двоичный">koi8u_bin</option><option value="koi8u_general_ci" title="Украинский, регистронезависимый">koi8u_general_ci</option></optgroup><optgroup label="latin1" title="cp1252 West European"><option value="latin1_bin" title="Западно-Европейский, двоичный">latin1_bin</option><option value="latin1_danish_ci" title="Датский, регистронезависимый">latin1_danish_ci</option><option value="latin1_general_ci" title="Западно-Европейский, регистронезависимый">latin1_general_ci</option><option value="latin1_general_cs" title="Западно-Европейский, регистрозависимый">latin1_general_cs</option><option value="latin1_german1_ci" title="Немецкий (порядок словаря), регистронезависимый">latin1_german1_ci</option><option value="latin1_german2_ci" title="Немецкий (порядок телефонной книги), регистронезависимый">latin1_german2_ci</option><option value="latin1_spanish_ci" title="Испанский, регистронезависимый">latin1_spanish_ci</option><option value="latin1_swedish_ci" title="Шведский, регистронезависимый">latin1_swedish_ci</option></optgroup><optgroup label="latin2" title="ISO 8859-2 Central European"><option value="latin2_bin" title="Центрально-Европейский, двоичный">latin2_bin</option><option value="latin2_croatian_ci" title="Хорватский, регистронезависимый">latin2_croatian_ci</option><option value="latin2_czech_cs" title="Чешский, регистрозависимый">latin2_czech_cs</option><option value="latin2_general_ci" title="Центрально-Европейский, регистронезависимый">latin2_general_ci</option><option value="latin2_hungarian_ci" title="Венгерский, регистронезависимый">latin2_hungarian_ci</option></optgroup><optgroup label="latin5" title="ISO 8859-9 Turkish"><option value="latin5_bin" title="Турецкий, двоичный">latin5_bin</option><option value="latin5_turkish_ci" title="Турецкий, регистронезависимый">latin5_turkish_ci</option></optgroup><optgroup label="latin7" title="ISO 8859-13 Baltic"><option value="latin7_bin" title="Балтийский, двоичный">latin7_bin</option><option value="latin7_estonian_cs" title="Эстонский, регистрозависимый">latin7_estonian_cs</option><option value="latin7_general_ci" title="Балтийский, регистронезависимый">latin7_general_ci</option><option value="latin7_general_cs" title="Балтийский, регистрозависимый">latin7_general_cs</option></optgroup><optgroup label="macce" title="Mac Central European"><option value="macce_bin" title="Центрально-Европейский, двоичный">macce_bin</option><option value="macce_general_ci" title="Центрально-Европейский, регистронезависимый">macce_general_ci</option></optgroup><optgroup label="macroman" title="Mac West European"><option value="macroman_bin" title="Западно-Европейский, двоичный">macroman_bin</option><option value="macroman_general_ci" title="Западно-Европейский, регистронезависимый">macroman_general_ci</option></optgroup><optgroup label="sjis" title="Shift-JIS Japanese"><option value="sjis_bin" title="Японский, двоичный">sjis_bin</option><option value="sjis_japanese_ci" title="Японский, регистронезависимый">sjis_japanese_ci</option></optgroup><optgroup label="swe7" title="7bit Swedish"><option value="swe7_bin" title="Шведский, двоичный">swe7_bin</option><option value="swe7_swedish_ci" title="Шведский, регистронезависимый">swe7_swedish_ci</option></optgroup><optgroup label="tis620" title="TIS620 Thai"><option value="tis620_bin" title="Таи, двоичный">tis620_bin</option><option value="tis620_thai_ci" title="Таи, регистронезависимый">tis620_thai_ci</option></optgroup><optgroup label="ucs2" title="UCS-2 Unicode"><option value="ucs2_bin" title="Юникод, двоичный">ucs2_bin</option><option value="ucs2_croatian_ci" title="Хорватский, регистронезависимый">ucs2_croatian_ci</option><option value="ucs2_czech_ci" title="Чешский, регистронезависимый">ucs2_czech_ci</option><option value="ucs2_danish_ci" title="Датский, регистронезависимый">ucs2_danish_ci</option><option value="ucs2_esperanto_ci" title="Эсперанто, регистронезависимый">ucs2_esperanto_ci</option><option value="ucs2_estonian_ci" title="Эстонский, регистронезависимый">ucs2_estonian_ci</option><option value="ucs2_general_ci" title="Юникод, регистронезависимый">ucs2_general_ci</option><option value="ucs2_general_mysql500_ci" title="Юникод (MySQL 5.0.0), регистронезависимый">ucs2_general_mysql500_ci</option><option value="ucs2_german2_ci" title="Немецкий (порядок телефонной книги), регистронезависимый">ucs2_german2_ci</option><option value="ucs2_hungarian_ci" title="Венгерский, регистронезависимый">ucs2_hungarian_ci</option><option value="ucs2_icelandic_ci" title="Исландский, регистронезависимый">ucs2_icelandic_ci</option><option value="ucs2_latvian_ci" title="Латвийский, регистронезависимый">ucs2_latvian_ci</option><option value="ucs2_lithuanian_ci" title="Литовский, регистронезависимый">ucs2_lithuanian_ci</option><option value="ucs2_persian_ci" title="Персидский, регистронезависимый">ucs2_persian_ci</option><option value="ucs2_polish_ci" title="Польский, регистронезависимый">ucs2_polish_ci</option><option value="ucs2_roman_ci" title="Западно-Европейский, регистронезависимый">ucs2_roman_ci</option><option value="ucs2_romanian_ci" title="Румынский, регистронезависимый">ucs2_romanian_ci</option><option value="ucs2_sinhala_ci" title="Сингальский, регистронезависимый">ucs2_sinhala_ci</option><option value="ucs2_slovak_ci" title="Словацкий, регистронезависимый">ucs2_slovak_ci</option><option value="ucs2_slovenian_ci" title="Словенский, регистронезависимый">ucs2_slovenian_ci</option><option value="ucs2_spanish2_ci" title="Испанский (традиционный), регистронезависимый">ucs2_spanish2_ci</option><option value="ucs2_spanish_ci" title="Испанский, регистронезависимый">ucs2_spanish_ci</option><option value="ucs2_swedish_ci" title="Шведский, регистронезависимый">ucs2_swedish_ci</option><option value="ucs2_turkish_ci" title="Турецкий, регистронезависимый">ucs2_turkish_ci</option><option value="ucs2_unicode_520_ci" title="Юникод (UCA 5.2.0), регистронезависимый">ucs2_unicode_520_ci</option><option value="ucs2_unicode_ci" title="Юникод, регистронезависимый">ucs2_unicode_ci</option><option value="ucs2_vietnamese_ci" title="Вьетнамский, регистронезависимый">ucs2_vietnamese_ci</option></optgroup><optgroup label="ujis" title="EUC-JP Japanese"><option value="ujis_bin" title="Японский, двоичный">ujis_bin</option><option value="ujis_japanese_ci" title="Японский, регистронезависимый">ujis_japanese_ci</option></optgroup><optgroup label="utf16" title="UTF-16 Unicode"><option value="utf16_bin" title="Юникод, двоичный">utf16_bin</option><option value="utf16_croatian_ci" title="Хорватский, регистронезависимый">utf16_croatian_ci</option><option value="utf16_czech_ci" title="Чешский, регистронезависимый">utf16_czech_ci</option><option value="utf16_danish_ci" title="Датский, регистронезависимый">utf16_danish_ci</option><option value="utf16_esperanto_ci" title="Эсперанто, регистронезависимый">utf16_esperanto_ci</option><option value="utf16_estonian_ci" title="Эстонский, регистронезависимый">utf16_estonian_ci</option><option value="utf16_general_ci" title="Юникод, регистронезависимый">utf16_general_ci</option><option value="utf16_german2_ci" title="Немецкий (порядок телефонной книги), регистронезависимый">utf16_german2_ci</option><option value="utf16_hungarian_ci" title="Венгерский, регистронезависимый">utf16_hungarian_ci</option><option value="utf16_icelandic_ci" title="Исландский, регистронезависимый">utf16_icelandic_ci</option><option value="utf16_latvian_ci" title="Латвийский, регистронезависимый">utf16_latvian_ci</option><option value="utf16_lithuanian_ci" title="Литовский, регистронезависимый">utf16_lithuanian_ci</option><option value="utf16_persian_ci" title="Персидский, регистронезависимый">utf16_persian_ci</option><option value="utf16_polish_ci" title="Польский, регистронезависимый">utf16_polish_ci</option><option value="utf16_roman_ci" title="Западно-Европейский, регистронезависимый">utf16_roman_ci</option><option value="utf16_romanian_ci" title="Румынский, регистронезависимый">utf16_romanian_ci</option><option value="utf16_sinhala_ci" title="Сингальский, регистронезависимый">utf16_sinhala_ci</option><option value="utf16_slovak_ci" title="Словацкий, регистронезависимый">utf16_slovak_ci</option><option value="utf16_slovenian_ci" title="Словенский, регистронезависимый">utf16_slovenian_ci</option><option value="utf16_spanish2_ci" title="Испанский (традиционный), регистронезависимый">utf16_spanish2_ci</option><option value="utf16_spanish_ci" title="Испанский, регистронезависимый">utf16_spanish_ci</option><option value="utf16_swedish_ci" title="Шведский, регистронезависимый">utf16_swedish_ci</option><option value="utf16_turkish_ci" title="Турецкий, регистронезависимый">utf16_turkish_ci</option><option value="utf16_unicode_520_ci" title="Юникод (UCA 5.2.0), регистронезависимый">utf16_unicode_520_ci</option><option value="utf16_unicode_ci" title="Юникод, регистронезависимый">utf16_unicode_ci</option><option value="utf16_vietnamese_ci" title="Вьетнамский, регистронезависимый">utf16_vietnamese_ci</option></optgroup><optgroup label="utf16le" title="UTF-16LE Unicode"><option value="utf16le_bin" title="Юникод, двоичный">utf16le_bin</option><option value="utf16le_general_ci" title="Юникод, регистронезависимый">utf16le_general_ci</option></optgroup><optgroup label="utf32" title="UTF-32 Unicode"><option value="utf32_bin" title="Юникод, двоичный">utf32_bin</option><option value="utf32_croatian_ci" title="Хорватский, регистронезависимый">utf32_croatian_ci</option><option value="utf32_czech_ci" title="Чешский, регистронезависимый">utf32_czech_ci</option><option value="utf32_danish_ci" title="Датский, регистронезависимый">utf32_danish_ci</option><option value="utf32_esperanto_ci" title="Эсперанто, регистронезависимый">utf32_esperanto_ci</option><option value="utf32_estonian_ci" title="Эстонский, регистронезависимый">utf32_estonian_ci</option><option value="utf32_general_ci" title="Юникод, регистронезависимый">utf32_general_ci</option><option value="utf32_german2_ci" title="Немецкий (порядок телефонной книги), регистронезависимый">utf32_german2_ci</option><option value="utf32_hungarian_ci" title="Венгерский, регистронезависимый">utf32_hungarian_ci</option><option value="utf32_icelandic_ci" title="Исландский, регистронезависимый">utf32_icelandic_ci</option><option value="utf32_latvian_ci" title="Латвийский, регистронезависимый">utf32_latvian_ci</option><option value="utf32_lithuanian_ci" title="Литовский, регистронезависимый">utf32_lithuanian_ci</option><option value="utf32_persian_ci" title="Персидский, регистронезависимый">utf32_persian_ci</option><option value="utf32_polish_ci" title="Польский, регистронезависимый">utf32_polish_ci</option><option value="utf32_roman_ci" title="Западно-Европейский, регистронезависимый">utf32_roman_ci</option><option value="utf32_romanian_ci" title="Румынский, регистронезависимый">utf32_romanian_ci</option><option value="utf32_sinhala_ci" title="Сингальский, регистронезависимый">utf32_sinhala_ci</option><option value="utf32_slovak_ci" title="Словацкий, регистронезависимый">utf32_slovak_ci</option><option value="utf32_slovenian_ci" title="Словенский, регистронезависимый">utf32_slovenian_ci</option><option value="utf32_spanish2_ci" title="Испанский (традиционный), регистронезависимый">utf32_spanish2_ci</option><option value="utf32_spanish_ci" title="Испанский, регистронезависимый">utf32_spanish_ci</option><option value="utf32_swedish_ci" title="Шведский, регистронезависимый">utf32_swedish_ci</option><option value="utf32_turkish_ci" title="Турецкий, регистронезависимый">utf32_turkish_ci</option><option value="utf32_unicode_520_ci" title="Юникод (UCA 5.2.0), регистронезависимый">utf32_unicode_520_ci</option><option value="utf32_unicode_ci" title="Юникод, регистронезависимый">utf32_unicode_ci</option><option value="utf32_vietnamese_ci" title="Вьетнамский, регистронезависимый">utf32_vietnamese_ci</option></optgroup><optgroup label="utf8" title="UTF-8 Unicode"><option value="utf8_bin" title="Юникод, двоичный">utf8_bin</option><option value="utf8_croatian_ci" title="Хорватский, регистронезависимый">utf8_croatian_ci</option><option value="utf8_czech_ci" title="Чешский, регистронезависимый">utf8_czech_ci</option><option value="utf8_danish_ci" title="Датский, регистронезависимый">utf8_danish_ci</option><option value="utf8_esperanto_ci" title="Эсперанто, регистронезависимый">utf8_esperanto_ci</option><option value="utf8_estonian_ci" title="Эстонский, регистронезависимый">utf8_estonian_ci</option><option value="utf8_general_ci" title="Юникод, регистронезависимый">utf8_general_ci</option><option value="utf8_general_mysql500_ci" title="Юникод (MySQL 5.0.0), регистронезависимый">utf8_general_mysql500_ci</option><option value="utf8_german2_ci" title="Немецкий (порядок телефонной книги), регистронезависимый">utf8_german2_ci</option><option value="utf8_hungarian_ci" title="Венгерский, регистронезависимый">utf8_hungarian_ci</option><option value="utf8_icelandic_ci" title="Исландский, регистронезависимый">utf8_icelandic_ci</option><option value="utf8_latvian_ci" title="Латвийский, регистронезависимый">utf8_latvian_ci</option><option value="utf8_lithuanian_ci" title="Литовский, регистронезависимый">utf8_lithuanian_ci</option><option value="utf8_persian_ci" title="Персидский, регистронезависимый">utf8_persian_ci</option><option value="utf8_polish_ci" title="Польский, регистронезависимый">utf8_polish_ci</option><option value="utf8_roman_ci" title="Западно-Европейский, регистронезависимый">utf8_roman_ci</option><option value="utf8_romanian_ci" title="Румынский, регистронезависимый">utf8_romanian_ci</option><option value="utf8_sinhala_ci" title="Сингальский, регистронезависимый">utf8_sinhala_ci</option><option value="utf8_slovak_ci" title="Словацкий, регистронезависимый">utf8_slovak_ci</option><option value="utf8_slovenian_ci" title="Словенский, регистронезависимый">utf8_slovenian_ci</option><option value="utf8_spanish2_ci" title="Испанский (традиционный), регистронезависимый">utf8_spanish2_ci</option><option value="utf8_spanish_ci" title="Испанский, регистронезависимый">utf8_spanish_ci</option><option value="utf8_swedish_ci" title="Шведский, регистронезависимый">utf8_swedish_ci</option><option value="utf8_turkish_ci" title="Турецкий, регистронезависимый">utf8_turkish_ci</option><option value="utf8_unicode_520_ci" title="Юникод (UCA 5.2.0), регистронезависимый">utf8_unicode_520_ci</option><option value="utf8_unicode_ci" title="Юникод, регистронезависимый">utf8_unicode_ci</option><option value="utf8_vietnamese_ci" title="Вьетнамский, регистронезависимый">utf8_vietnamese_ci</option></optgroup><optgroup label="utf8mb4" title="UTF-8 Unicode"><option value="utf8mb4_bin" title="Юникод (UCA 4.0.0), двоичный">utf8mb4_bin</option><option value="utf8mb4_croatian_ci" title="Хорватский (UCA 4.0.0), регистронезависимый">utf8mb4_croatian_ci</option><option value="utf8mb4_czech_ci" title="Чешский (UCA 4.0.0), регистронезависимый">utf8mb4_czech_ci</option><option value="utf8mb4_danish_ci" title="Датский (UCA 4.0.0), регистронезависимый">utf8mb4_danish_ci</option><option value="utf8mb4_esperanto_ci" title="Эсперанто (UCA 4.0.0), регистронезависимый">utf8mb4_esperanto_ci</option><option value="utf8mb4_estonian_ci" title="Эстонский (UCA 4.0.0), регистронезависимый">utf8mb4_estonian_ci</option><option value="utf8mb4_general_ci" title="Юникод (UCA 4.0.0), регистронезависимый">utf8mb4_general_ci</option><option value="utf8mb4_german2_ci" title="Немецкий (порядок телефонной книги) (UCA 4.0.0), регистронезависимый">utf8mb4_german2_ci</option><option value="utf8mb4_hungarian_ci" title="Венгерский (UCA 4.0.0), регистронезависимый">utf8mb4_hungarian_ci</option><option value="utf8mb4_icelandic_ci" title="Исландский (UCA 4.0.0), регистронезависимый">utf8mb4_icelandic_ci</option><option value="utf8mb4_latvian_ci" title="Латвийский (UCA 4.0.0), регистронезависимый">utf8mb4_latvian_ci</option><option value="utf8mb4_lithuanian_ci" title="Литовский (UCA 4.0.0), регистронезависимый">utf8mb4_lithuanian_ci</option><option value="utf8mb4_persian_ci" title="Персидский (UCA 4.0.0), регистронезависимый">utf8mb4_persian_ci</option><option value="utf8mb4_polish_ci" title="Польский (UCA 4.0.0), регистронезависимый">utf8mb4_polish_ci</option><option value="utf8mb4_roman_ci" title="Западно-Европейский (UCA 4.0.0), регистронезависимый">utf8mb4_roman_ci</option><option value="utf8mb4_romanian_ci" title="Румынский (UCA 4.0.0), регистронезависимый">utf8mb4_romanian_ci</option><option value="utf8mb4_sinhala_ci" title="Сингальский (UCA 4.0.0), регистронезависимый">utf8mb4_sinhala_ci</option><option value="utf8mb4_slovak_ci" title="Словацкий (UCA 4.0.0), регистронезависимый">utf8mb4_slovak_ci</option><option value="utf8mb4_slovenian_ci" title="Словенский (UCA 4.0.0), регистронезависимый">utf8mb4_slovenian_ci</option><option value="utf8mb4_spanish2_ci" title="Испанский (традиционный) (UCA 4.0.0), регистронезависимый">utf8mb4_spanish2_ci</option><option value="utf8mb4_spanish_ci" title="Испанский (UCA 4.0.0), регистронезависимый">utf8mb4_spanish_ci</option><option value="utf8mb4_swedish_ci" title="Шведский (UCA 4.0.0), регистронезависимый">utf8mb4_swedish_ci</option><option value="utf8mb4_turkish_ci" title="Турецкий (UCA 4.0.0), регистронезависимый">utf8mb4_turkish_ci</option><option value="utf8mb4_unicode_520_ci" title="Юникод (UCA 5.2.0), регистронезависимый">utf8mb4_unicode_520_ci</option><option value="utf8mb4_unicode_ci" title="Юникод (UCA 4.0.0), регистронезависимый">utf8mb4_unicode_ci</option><option value="utf8mb4_vietnamese_ci">utf8mb4_vietnamese_ci</option></optgroup></select></td><td><select name="field_attribute['+i+']"><option value="" selected="selected"></option><option value="BINARY">BINARY</option><option value="UNSIGNED">UNSIGNED</option><option value="UNSIGNED ZEROFILL">UNSIGNED ZEROFILL</option><option value="on update CURRENT_TIMESTAMP">on update CURRENT_TIMESTAMP</option></select></td><td><input name="field_null['+i+']" type="checkbox" value="YES"></td><td><select name="field_key['+i+']"><option value="">---</option><option value="primary_0">PRIMARY</option><option value="unique_0">UNIQUE</option><option value="index_0">INDEX</option><option value="fulltext_0">FULLTEXT</option><option value="spatial_0">SPATIAL</option></select></td><td><input name="field_extra['+i+']" type="checkbox" value="AUTO_INCREMENT"></td><td><input type="text" name="field_comments['+i+']"></td><td><a class="trash_field_from_table" data="'+i+'">Удалить поле</a></td></tr>';
    
    $('li.newtable a').click(function(){
        $('#ajaxResult').empty();
        $('#ajaxResult_header').empty();
        $('#ajaxResult_header').append('<h4>Добавить новую таблицу</h4>');
        
        var table = '<form action="/dbeditor/newtables" method="post" id="form_new_dbtable"><div class="form-group">Название таблицы <input type="text" name="table_name" value="'+curentdatabase+'" /></div>';
        table += '<table class="new_db_table"><tr><th>Имя</th><th>Тип</th><th>Длина/Значение</th><th>По умолчанию</th><th>Сравнение</th><th>Атрибуты</th><th>Null</th><th>Индекс</th><th>A_I</th><th>Комментарии</th><th><a id="add_new_field_in_the_table">Добавить поле</a></th></tr>';
        table += '</table><div class="form-group"><button type="submit" id="send_new_dbtable">Добавить</button></div></form>';
        $('#ajaxResult').append(table);
        $('.new_db_table tr:last').after(tr);
        
        $('body').on('click', '#add_new_field_in_the_table', function() {
            i++;
            $('.new_db_table tr:last').after('<tr data="'+i+'"><td><input type="text" name="field_name['+i+']"></td><td><select name="field_type['+i+']"><option value="INT">INT</option><option value="VARCHAR">VARCHAR</option><option value="TEXT">TEXT</option><option value="DATE">DATE</option><optgroup label="Числовые"><option value="TINYINT">TINYINT</option><option value="SMALLINT">SMALLINT</option><option value="MEDIUMINT">MEDIUMINT</option><option value="INT">INT</option><option value="BIGINT">BIGINT</option><option value="DECIMAL">DECIMAL</option><option value="FLOAT">FLOAT</option><option value="DOUBLE">DOUBLE</option><option value="REAL">REAL</option><option value="BIT">BIT</option><option value="BOOLEAN">BOOLEAN</option><option value="SERIAL">SERIAL</option></optgroup><optgroup label="Дата и время"><option value="DATE">DATE</option><option value="DATETIME">DATETIME</option><option value="TIMESTAMP">TIMESTAMP</option><option value="TIME">TIME</option><option value="YEAR">YEAR</option></optgroup><optgroup label="Символьные"><option value="CHAR">CHAR</option><option value="VARCHAR">VARCHAR</option><option value="TINYTEXT">TINYTEXT</option><option value="TEXT">TEXT</option><option value="MEDIUMTEXT">MEDIUMTEXT</option><option value="LONGTEXT">LONGTEXT</option><option value="BINARY">BINARY</option><option value="VARBINARY">VARBINARY</option><option value="VARBINARY">TINYBLOB</option><option value="MEDIUMBLOB">MEDIUMBLOB</option><option value="BLOB">BLOB</option><option value="LONGBLOB">LONGBLOB</option><option value="ENUM">ENUM</option><option value="SET">SET</option></optgroup><optgroup label="Пространственные"><option value="GEOMETRY">GEOMETRY</option><option value="POINT">POINT</option><option value="LINESTRING">LINESTRING</option><option value="POLYGON">POLYGON</option><option value="MULTIPOINT">MULTIPOINT</option><option value="MULTILINESTRING">MULTILINESTRING</option><option value="MULTIPOLYGON">MULTIPOLYGON</option><option value="GEOMETRYCOLLECTION">GEOMETRYCOLLECTION</option></optgroup><optgroup label="JSON"><option value="JSON">JSON</option></optgroup></select></td><td><input type="text" name="field_length['+i+']"><p class="enum_notice" id="enum_notice_0_3" style="display: none;"><a href="#" class="open_enum_editor">Редактировать ENUM/SET значения</a></p></td><td><select name="field_default_type['+i+']" data="'+i+'" class="field_default_type"><option value="NONE">Нет</option><option value="USER_DEFINED">Как определено:</option><option value="NULL">NULL</option><option value="CURRENT_TIMESTAMP">CURRENT_TIMESTAMP</option></select><input type="text" name="field_default_value['+i+']" style="display: none;"></td><td><select name="field_collation['+i+']"><option value=""></option><optgroup label="armscii8" title="ARMSCII-8 Armenian"><option value="armscii8_bin" title="Армянский, двоичный">armscii8_bin</option><option value="armscii8_general_ci" title="Армянский, регистронезависимый">armscii8_general_ci</option></optgroup><optgroup label="ascii" title="US ASCII"><option value="ascii_bin" title="Западно-Европейский, двоичный">ascii_bin</option><option value="ascii_general_ci" title="Западно-Европейский, регистронезависимый">ascii_general_ci</option></optgroup><optgroup><option value="big5_bin">big5_bin</option><option value="big5_chinese_ci" >big5_chinese_ci</option></optgroup><optgroup label="binary"><option value="binary">binary</option></optgroup><optgroup label="cp1250"><option value="cp1250_bin">cp1250_bin</option><option value="cp1250_croatian_ci" title="Хорватский, регистронезависимый">cp1250_croatian_ci</option><option value="cp1250_czech_cs" title="Чешский, регистрозависимый">cp1250_czech_cs</option><option value="cp1250_general_ci" title="Центрально-Европейский, регистронезависимый">cp1250_general_ci</option><option value="cp1250_polish_ci" title="Польский, регистронезависимый">cp1250_polish_ci</option></optgroup><optgroup label="cp1251" title="Windows Cyrillic"><option value="cp1251_bin" title="Кириллический, двоичный">cp1251_bin</option><option value="cp1251_bulgarian_ci" title="Болгарский, регистронезависимый">cp1251_bulgarian_ci</option><option value="cp1251_general_ci" title="Кириллический, регистронезависимый">cp1251_general_ci</option><option value="cp1251_general_cs" title="Кириллический, регистрозависимый">cp1251_general_cs</option><option value="cp1251_ukrainian_ci" title="Украинский, регистронезависимый">cp1251_ukrainian_ci</option></optgroup><optgroup label="cp1256" title="Windows Arabic"><option value="cp1256_bin" title="Арабский, двоичный">cp1256_bin</option><option value="cp1256_general_ci" title="Арабский, регистронезависимый">cp1256_general_ci</option></optgroup><optgroup label="cp1257" title="Windows Baltic"><option value="cp1257_bin" title="Балтийский, двоичный">cp1257_bin</option<option value="cp1257_general_ci" title="Балтийский, регистронезависимый">cp1257_general_ci</option><option value="cp1257_lithuanian_ci" title="Литовский, регистронезависимый">cp1257_lithuanian_ci</option></optgroup><optgroup label="cp850" title="DOS West European"><option value="cp850_bin" title="Западно-Европейский, двоичный">cp850_bin</option><option value="cp850_general_ci" title="Западно-Европейский, регистронезависимый">cp850_general_ci</option></optgroup><optgroup label="cp852" title="DOS Central European"><option value="cp852_bin" title="Центрально-Европейский, двоичный">cp852_bin</option><option value="cp852_general_ci" title="Центрально-Европейский, регистронезависимый">cp852_general_ci</option></optgroup><optgroup label="cp866" title="DOS Russian"><option value="cp866_bin" title="Русский, двоичный">cp866_bin</option><option value="cp866_general_ci" title="Русский, регистронезависимый">cp866_general_ci</option></optgroup><optgroup label="cp932" title="SJIS for Windows Japanese"><option value="cp932_bin" title="Японский, двоичный">cp932_bin</option><option value="cp932_japanese_ci" title="Японский, регистронезависимый">cp932_japanese_ci</option></optgroup><optgroup label="dec8" title="DEC West European"><option value="dec8_bin" title="Западно-Европейский, двоичный">dec8_bin</option><option value="dec8_swedish_ci" title="Шведский, регистронезависимый">dec8_swedish_ci</option></optgroup><optgroup label="eucjpms" title="UJIS for Windows Japanese"><option value="eucjpms_bin" title="Японский, двоичный">eucjpms_bin</option><option value="eucjpms_japanese_ci" title="Японский, регистронезависимый">eucjpms_japanese_ci</option></optgroup><optgroup label="euckr" title="EUC-KR Korean"><option value="euckr_bin" title="Корейский, двоичный">euckr_bin</option><option value="euckr_korean_ci" title="Корейский, регистронезависимый">euckr_korean_ci</option></optgroup><optgroup label="gb18030" title="China National Standard GB18030"><option value="gb18030_bin" title="Китайский, двоичный">gb18030_bin</option><option value="gb18030_chinese_ci" title="Китайский, регистронезависимый">gb18030_chinese_ci</option><option value="gb18030_unicode_520_ci" title="Китайский (UCA 5.2.0), регистронезависимый">gb18030_unicode_520_ci</option></optgroup><optgroup label="gb2312" title="GB2312 Simplified Chinese"><option value="gb2312_bin" title="Китайский упрощенный, двоичный">gb2312_bin</option><option value="gb2312_chinese_ci" title="Китайский упрощенный, регистронезависимый">gb2312_chinese_ci</option></optgroup><optgroup label="gbk" title="GBK Simplified Chinese"><option value="gbk_bin" title="Китайский упрощенный, двоичный">gbk_bin</option><option value="gbk_chinese_ci" title="Китайский упрощенный, регистронезависимый">gbk_chinese_ci</option></optgroup><optgroup label="geostd8" title="GEOSTD8 Georgian"><option value="geostd8_bin" title="Грузинский, двоичный">geostd8_bin</option><option value="geostd8_general_ci" title="Грузинский, регистронезависимый">geostd8_general_ci</option></optgroup><optgroup label="greek" title="ISO 8859-7 Greek"><option value="greek_bin" title="Греческий, двоичный">greek_bin</option><option value="greek_general_ci" title="Греческий, регистронезависимый">greek_general_ci</option></optgroup><optgroup label="hebrew" title="ISO 8859-8 Hebrew"><option value="hebrew_bin" title="Иврит, двоичный">hebrew_bin</option><option value="hebrew_general_ci" title="Иврит, регистронезависимый">hebrew_general_ci</option></optgroup><optgroup label="hp8" title="HP West European"><option value="hp8_bin" title="Западно-Европейский, двоичный">hp8_bin</option><option value="hp8_english_ci" title="Английский, регистронезависимый">hp8_english_ci</option></optgroup><optgroup label="keybcs2" title="DOS Kamenicky Czech-Slovak"><option value="keybcs2_bin" title="Чехословацкий, двоичный">keybcs2_bin</option><option value="keybcs2_general_ci" title="Чехословацкий, регистронезависимый">keybcs2_general_ci</option></optgroup><optgroup label="koi8r" title="KOI8-R Relcom Russian"><option value="koi8r_bin" title="Русский, двоичный">koi8r_bin</option><option value="koi8r_general_ci" title="Русский, регистронезависимый">koi8r_general_ci</option></optgroup><optgroup label="koi8u" title="KOI8-U Ukrainian"><option value="koi8u_bin" title="Украинский, двоичный">koi8u_bin</option><option value="koi8u_general_ci" title="Украинский, регистронезависимый">koi8u_general_ci</option></optgroup><optgroup label="latin1" title="cp1252 West European"><option value="latin1_bin" title="Западно-Европейский, двоичный">latin1_bin</option><option value="latin1_danish_ci" title="Датский, регистронезависимый">latin1_danish_ci</option><option value="latin1_general_ci" title="Западно-Европейский, регистронезависимый">latin1_general_ci</option><option value="latin1_general_cs" title="Западно-Европейский, регистрозависимый">latin1_general_cs</option><option value="latin1_german1_ci" title="Немецкий (порядок словаря), регистронезависимый">latin1_german1_ci</option><option value="latin1_german2_ci" title="Немецкий (порядок телефонной книги), регистронезависимый">latin1_german2_ci</option><option value="latin1_spanish_ci" title="Испанский, регистронезависимый">latin1_spanish_ci</option><option value="latin1_swedish_ci" title="Шведский, регистронезависимый">latin1_swedish_ci</option></optgroup><optgroup label="latin2" title="ISO 8859-2 Central European"><option value="latin2_bin" title="Центрально-Европейский, двоичный">latin2_bin</option><option value="latin2_croatian_ci" title="Хорватский, регистронезависимый">latin2_croatian_ci</option><option value="latin2_czech_cs" title="Чешский, регистрозависимый">latin2_czech_cs</option><option value="latin2_general_ci" title="Центрально-Европейский, регистронезависимый">latin2_general_ci</option><option value="latin2_hungarian_ci" title="Венгерский, регистронезависимый">latin2_hungarian_ci</option></optgroup><optgroup label="latin5" title="ISO 8859-9 Turkish"><option value="latin5_bin" title="Турецкий, двоичный">latin5_bin</option><option value="latin5_turkish_ci" title="Турецкий, регистронезависимый">latin5_turkish_ci</option></optgroup><optgroup label="latin7" title="ISO 8859-13 Baltic"><option value="latin7_bin" title="Балтийский, двоичный">latin7_bin</option><option value="latin7_estonian_cs" title="Эстонский, регистрозависимый">latin7_estonian_cs</option><option value="latin7_general_ci" title="Балтийский, регистронезависимый">latin7_general_ci</option><option value="latin7_general_cs" title="Балтийский, регистрозависимый">latin7_general_cs</option></optgroup><optgroup label="macce" title="Mac Central European"><option value="macce_bin" title="Центрально-Европейский, двоичный">macce_bin</option><option value="macce_general_ci" title="Центрально-Европейский, регистронезависимый">macce_general_ci</option></optgroup><optgroup label="macroman" title="Mac West European"><option value="macroman_bin" title="Западно-Европейский, двоичный">macroman_bin</option><option value="macroman_general_ci" title="Западно-Европейский, регистронезависимый">macroman_general_ci</option></optgroup><optgroup label="sjis" title="Shift-JIS Japanese"><option value="sjis_bin" title="Японский, двоичный">sjis_bin</option><option value="sjis_japanese_ci" title="Японский, регистронезависимый">sjis_japanese_ci</option></optgroup><optgroup label="swe7" title="7bit Swedish"><option value="swe7_bin" title="Шведский, двоичный">swe7_bin</option><option value="swe7_swedish_ci" title="Шведский, регистронезависимый">swe7_swedish_ci</option></optgroup><optgroup label="tis620" title="TIS620 Thai"><option value="tis620_bin" title="Таи, двоичный">tis620_bin</option><option value="tis620_thai_ci" title="Таи, регистронезависимый">tis620_thai_ci</option></optgroup><optgroup label="ucs2" title="UCS-2 Unicode"><option value="ucs2_bin" title="Юникод, двоичный">ucs2_bin</option><option value="ucs2_croatian_ci" title="Хорватский, регистронезависимый">ucs2_croatian_ci</option><option value="ucs2_czech_ci" title="Чешский, регистронезависимый">ucs2_czech_ci</option><option value="ucs2_danish_ci" title="Датский, регистронезависимый">ucs2_danish_ci</option><option value="ucs2_esperanto_ci" title="Эсперанто, регистронезависимый">ucs2_esperanto_ci</option><option value="ucs2_estonian_ci" title="Эстонский, регистронезависимый">ucs2_estonian_ci</option><option value="ucs2_general_ci" title="Юникод, регистронезависимый">ucs2_general_ci</option><option value="ucs2_general_mysql500_ci" title="Юникод (MySQL 5.0.0), регистронезависимый">ucs2_general_mysql500_ci</option><option value="ucs2_german2_ci" title="Немецкий (порядок телефонной книги), регистронезависимый">ucs2_german2_ci</option><option value="ucs2_hungarian_ci" title="Венгерский, регистронезависимый">ucs2_hungarian_ci</option><option value="ucs2_icelandic_ci" title="Исландский, регистронезависимый">ucs2_icelandic_ci</option><option value="ucs2_latvian_ci" title="Латвийский, регистронезависимый">ucs2_latvian_ci</option><option value="ucs2_lithuanian_ci" title="Литовский, регистронезависимый">ucs2_lithuanian_ci</option><option value="ucs2_persian_ci" title="Персидский, регистронезависимый">ucs2_persian_ci</option><option value="ucs2_polish_ci" title="Польский, регистронезависимый">ucs2_polish_ci</option><option value="ucs2_roman_ci" title="Западно-Европейский, регистронезависимый">ucs2_roman_ci</option><option value="ucs2_romanian_ci" title="Румынский, регистронезависимый">ucs2_romanian_ci</option><option value="ucs2_sinhala_ci" title="Сингальский, регистронезависимый">ucs2_sinhala_ci</option><option value="ucs2_slovak_ci" title="Словацкий, регистронезависимый">ucs2_slovak_ci</option><option value="ucs2_slovenian_ci" title="Словенский, регистронезависимый">ucs2_slovenian_ci</option><option value="ucs2_spanish2_ci" title="Испанский (традиционный), регистронезависимый">ucs2_spanish2_ci</option><option value="ucs2_spanish_ci" title="Испанский, регистронезависимый">ucs2_spanish_ci</option><option value="ucs2_swedish_ci" title="Шведский, регистронезависимый">ucs2_swedish_ci</option><option value="ucs2_turkish_ci" title="Турецкий, регистронезависимый">ucs2_turkish_ci</option><option value="ucs2_unicode_520_ci" title="Юникод (UCA 5.2.0), регистронезависимый">ucs2_unicode_520_ci</option><option value="ucs2_unicode_ci" title="Юникод, регистронезависимый">ucs2_unicode_ci</option><option value="ucs2_vietnamese_ci" title="Вьетнамский, регистронезависимый">ucs2_vietnamese_ci</option></optgroup><optgroup label="ujis" title="EUC-JP Japanese"><option value="ujis_bin" title="Японский, двоичный">ujis_bin</option><option value="ujis_japanese_ci" title="Японский, регистронезависимый">ujis_japanese_ci</option></optgroup><optgroup label="utf16" title="UTF-16 Unicode"><option value="utf16_bin" title="Юникод, двоичный">utf16_bin</option><option value="utf16_croatian_ci" title="Хорватский, регистронезависимый">utf16_croatian_ci</option><option value="utf16_czech_ci" title="Чешский, регистронезависимый">utf16_czech_ci</option><option value="utf16_danish_ci" title="Датский, регистронезависимый">utf16_danish_ci</option><option value="utf16_esperanto_ci" title="Эсперанто, регистронезависимый">utf16_esperanto_ci</option><option value="utf16_estonian_ci" title="Эстонский, регистронезависимый">utf16_estonian_ci</option><option value="utf16_general_ci" title="Юникод, регистронезависимый">utf16_general_ci</option><option value="utf16_german2_ci" title="Немецкий (порядок телефонной книги), регистронезависимый">utf16_german2_ci</option><option value="utf16_hungarian_ci" title="Венгерский, регистронезависимый">utf16_hungarian_ci</option><option value="utf16_icelandic_ci" title="Исландский, регистронезависимый">utf16_icelandic_ci</option><option value="utf16_latvian_ci" title="Латвийский, регистронезависимый">utf16_latvian_ci</option><option value="utf16_lithuanian_ci" title="Литовский, регистронезависимый">utf16_lithuanian_ci</option><option value="utf16_persian_ci" title="Персидский, регистронезависимый">utf16_persian_ci</option><option value="utf16_polish_ci" title="Польский, регистронезависимый">utf16_polish_ci</option><option value="utf16_roman_ci" title="Западно-Европейский, регистронезависимый">utf16_roman_ci</option><option value="utf16_romanian_ci" title="Румынский, регистронезависимый">utf16_romanian_ci</option><option value="utf16_sinhala_ci" title="Сингальский, регистронезависимый">utf16_sinhala_ci</option><option value="utf16_slovak_ci" title="Словацкий, регистронезависимый">utf16_slovak_ci</option><option value="utf16_slovenian_ci" title="Словенский, регистронезависимый">utf16_slovenian_ci</option><option value="utf16_spanish2_ci" title="Испанский (традиционный), регистронезависимый">utf16_spanish2_ci</option><option value="utf16_spanish_ci" title="Испанский, регистронезависимый">utf16_spanish_ci</option><option value="utf16_swedish_ci" title="Шведский, регистронезависимый">utf16_swedish_ci</option><option value="utf16_turkish_ci" title="Турецкий, регистронезависимый">utf16_turkish_ci</option><option value="utf16_unicode_520_ci" title="Юникод (UCA 5.2.0), регистронезависимый">utf16_unicode_520_ci</option><option value="utf16_unicode_ci" title="Юникод, регистронезависимый">utf16_unicode_ci</option><option value="utf16_vietnamese_ci" title="Вьетнамский, регистронезависимый">utf16_vietnamese_ci</option></optgroup><optgroup label="utf16le" title="UTF-16LE Unicode"><option value="utf16le_bin" title="Юникод, двоичный">utf16le_bin</option><option value="utf16le_general_ci" title="Юникод, регистронезависимый">utf16le_general_ci</option></optgroup><optgroup label="utf32" title="UTF-32 Unicode"><option value="utf32_bin" title="Юникод, двоичный">utf32_bin</option><option value="utf32_croatian_ci" title="Хорватский, регистронезависимый">utf32_croatian_ci</option><option value="utf32_czech_ci" title="Чешский, регистронезависимый">utf32_czech_ci</option><option value="utf32_danish_ci" title="Датский, регистронезависимый">utf32_danish_ci</option><option value="utf32_esperanto_ci" title="Эсперанто, регистронезависимый">utf32_esperanto_ci</option><option value="utf32_estonian_ci" title="Эстонский, регистронезависимый">utf32_estonian_ci</option><option value="utf32_general_ci" title="Юникод, регистронезависимый">utf32_general_ci</option><option value="utf32_german2_ci" title="Немецкий (порядок телефонной книги), регистронезависимый">utf32_german2_ci</option><option value="utf32_hungarian_ci" title="Венгерский, регистронезависимый">utf32_hungarian_ci</option><option value="utf32_icelandic_ci" title="Исландский, регистронезависимый">utf32_icelandic_ci</option><option value="utf32_latvian_ci" title="Латвийский, регистронезависимый">utf32_latvian_ci</option><option value="utf32_lithuanian_ci" title="Литовский, регистронезависимый">utf32_lithuanian_ci</option><option value="utf32_persian_ci" title="Персидский, регистронезависимый">utf32_persian_ci</option><option value="utf32_polish_ci" title="Польский, регистронезависимый">utf32_polish_ci</option><option value="utf32_roman_ci" title="Западно-Европейский, регистронезависимый">utf32_roman_ci</option><option value="utf32_romanian_ci" title="Румынский, регистронезависимый">utf32_romanian_ci</option><option value="utf32_sinhala_ci" title="Сингальский, регистронезависимый">utf32_sinhala_ci</option><option value="utf32_slovak_ci" title="Словацкий, регистронезависимый">utf32_slovak_ci</option><option value="utf32_slovenian_ci" title="Словенский, регистронезависимый">utf32_slovenian_ci</option><option value="utf32_spanish2_ci" title="Испанский (традиционный), регистронезависимый">utf32_spanish2_ci</option><option value="utf32_spanish_ci" title="Испанский, регистронезависимый">utf32_spanish_ci</option><option value="utf32_swedish_ci" title="Шведский, регистронезависимый">utf32_swedish_ci</option><option value="utf32_turkish_ci" title="Турецкий, регистронезависимый">utf32_turkish_ci</option><option value="utf32_unicode_520_ci" title="Юникод (UCA 5.2.0), регистронезависимый">utf32_unicode_520_ci</option><option value="utf32_unicode_ci" title="Юникод, регистронезависимый">utf32_unicode_ci</option><option value="utf32_vietnamese_ci" title="Вьетнамский, регистронезависимый">utf32_vietnamese_ci</option></optgroup><optgroup label="utf8" title="UTF-8 Unicode"><option value="utf8_bin" title="Юникод, двоичный">utf8_bin</option><option value="utf8_croatian_ci" title="Хорватский, регистронезависимый">utf8_croatian_ci</option><option value="utf8_czech_ci" title="Чешский, регистронезависимый">utf8_czech_ci</option><option value="utf8_danish_ci" title="Датский, регистронезависимый">utf8_danish_ci</option><option value="utf8_esperanto_ci" title="Эсперанто, регистронезависимый">utf8_esperanto_ci</option><option value="utf8_estonian_ci" title="Эстонский, регистронезависимый">utf8_estonian_ci</option><option value="utf8_general_ci" title="Юникод, регистронезависимый">utf8_general_ci</option><option value="utf8_general_mysql500_ci" title="Юникод (MySQL 5.0.0), регистронезависимый">utf8_general_mysql500_ci</option><option value="utf8_german2_ci" title="Немецкий (порядок телефонной книги), регистронезависимый">utf8_german2_ci</option><option value="utf8_hungarian_ci" title="Венгерский, регистронезависимый">utf8_hungarian_ci</option><option value="utf8_icelandic_ci" title="Исландский, регистронезависимый">utf8_icelandic_ci</option><option value="utf8_latvian_ci" title="Латвийский, регистронезависимый">utf8_latvian_ci</option><option value="utf8_lithuanian_ci" title="Литовский, регистронезависимый">utf8_lithuanian_ci</option><option value="utf8_persian_ci" title="Персидский, регистронезависимый">utf8_persian_ci</option><option value="utf8_polish_ci" title="Польский, регистронезависимый">utf8_polish_ci</option><option value="utf8_roman_ci" title="Западно-Европейский, регистронезависимый">utf8_roman_ci</option><option value="utf8_romanian_ci" title="Румынский, регистронезависимый">utf8_romanian_ci</option><option value="utf8_sinhala_ci" title="Сингальский, регистронезависимый">utf8_sinhala_ci</option><option value="utf8_slovak_ci" title="Словацкий, регистронезависимый">utf8_slovak_ci</option><option value="utf8_slovenian_ci" title="Словенский, регистронезависимый">utf8_slovenian_ci</option><option value="utf8_spanish2_ci" title="Испанский (традиционный), регистронезависимый">utf8_spanish2_ci</option><option value="utf8_spanish_ci" title="Испанский, регистронезависимый">utf8_spanish_ci</option><option value="utf8_swedish_ci" title="Шведский, регистронезависимый">utf8_swedish_ci</option><option value="utf8_turkish_ci" title="Турецкий, регистронезависимый">utf8_turkish_ci</option><option value="utf8_unicode_520_ci" title="Юникод (UCA 5.2.0), регистронезависимый">utf8_unicode_520_ci</option><option value="utf8_unicode_ci" title="Юникод, регистронезависимый">utf8_unicode_ci</option><option value="utf8_vietnamese_ci" title="Вьетнамский, регистронезависимый">utf8_vietnamese_ci</option></optgroup><optgroup label="utf8mb4" title="UTF-8 Unicode"><option value="utf8mb4_bin" title="Юникод (UCA 4.0.0), двоичный">utf8mb4_bin</option><option value="utf8mb4_croatian_ci" title="Хорватский (UCA 4.0.0), регистронезависимый">utf8mb4_croatian_ci</option><option value="utf8mb4_czech_ci" title="Чешский (UCA 4.0.0), регистронезависимый">utf8mb4_czech_ci</option><option value="utf8mb4_danish_ci" title="Датский (UCA 4.0.0), регистронезависимый">utf8mb4_danish_ci</option><option value="utf8mb4_esperanto_ci" title="Эсперанто (UCA 4.0.0), регистронезависимый">utf8mb4_esperanto_ci</option><option value="utf8mb4_estonian_ci" title="Эстонский (UCA 4.0.0), регистронезависимый">utf8mb4_estonian_ci</option><option value="utf8mb4_general_ci" title="Юникод (UCA 4.0.0), регистронезависимый">utf8mb4_general_ci</option><option value="utf8mb4_german2_ci" title="Немецкий (порядок телефонной книги) (UCA 4.0.0), регистронезависимый">utf8mb4_german2_ci</option><option value="utf8mb4_hungarian_ci" title="Венгерский (UCA 4.0.0), регистронезависимый">utf8mb4_hungarian_ci</option><option value="utf8mb4_icelandic_ci" title="Исландский (UCA 4.0.0), регистронезависимый">utf8mb4_icelandic_ci</option><option value="utf8mb4_latvian_ci" title="Латвийский (UCA 4.0.0), регистронезависимый">utf8mb4_latvian_ci</option><option value="utf8mb4_lithuanian_ci" title="Литовский (UCA 4.0.0), регистронезависимый">utf8mb4_lithuanian_ci</option><option value="utf8mb4_persian_ci" title="Персидский (UCA 4.0.0), регистронезависимый">utf8mb4_persian_ci</option><option value="utf8mb4_polish_ci" title="Польский (UCA 4.0.0), регистронезависимый">utf8mb4_polish_ci</option><option value="utf8mb4_roman_ci" title="Западно-Европейский (UCA 4.0.0), регистронезависимый">utf8mb4_roman_ci</option><option value="utf8mb4_romanian_ci" title="Румынский (UCA 4.0.0), регистронезависимый">utf8mb4_romanian_ci</option><option value="utf8mb4_sinhala_ci" title="Сингальский (UCA 4.0.0), регистронезависимый">utf8mb4_sinhala_ci</option><option value="utf8mb4_slovak_ci" title="Словацкий (UCA 4.0.0), регистронезависимый">utf8mb4_slovak_ci</option><option value="utf8mb4_slovenian_ci" title="Словенский (UCA 4.0.0), регистронезависимый">utf8mb4_slovenian_ci</option><option value="utf8mb4_spanish2_ci" title="Испанский (традиционный) (UCA 4.0.0), регистронезависимый">utf8mb4_spanish2_ci</option><option value="utf8mb4_spanish_ci" title="Испанский (UCA 4.0.0), регистронезависимый">utf8mb4_spanish_ci</option><option value="utf8mb4_swedish_ci" title="Шведский (UCA 4.0.0), регистронезависимый">utf8mb4_swedish_ci</option><option value="utf8mb4_turkish_ci" title="Турецкий (UCA 4.0.0), регистронезависимый">utf8mb4_turkish_ci</option><option value="utf8mb4_unicode_520_ci" title="Юникод (UCA 5.2.0), регистронезависимый">utf8mb4_unicode_520_ci</option><option value="utf8mb4_unicode_ci" title="Юникод (UCA 4.0.0), регистронезависимый">utf8mb4_unicode_ci</option><option value="utf8mb4_vietnamese_ci">utf8mb4_vietnamese_ci</option></optgroup></select></td><td><select name="field_attribute['+i+']"><option value="" selected="selected"></option><option value="BINARY">BINARY</option><option value="UNSIGNED">UNSIGNED</option><option value="UNSIGNED ZEROFILL">UNSIGNED ZEROFILL</option><option value="on update CURRENT_TIMESTAMP">on update CURRENT_TIMESTAMP</option></select></td><td><input name="field_null['+i+']" type="checkbox" value="YES"></td><td><select name="field_key['+i+']"><option value="">---</option><option value="primary_0">PRIMARY</option><option value="unique_0">UNIQUE</option><option value="index_0">INDEX</option><option value="fulltext_0">FULLTEXT</option><option value="spatial_0">SPATIAL</option></select></td><td><input name="field_extra['+i+']" type="checkbox" value="AUTO_INCREMENT"></td><td><input type="text" name="field_comments['+i+']"></td><td><a class="trash_field_from_table" data="'+i+'">Удалить поле</a></td></tr>');
        });
        
        $('body').on('click', '.trash_field_from_table', function(){
            var tr_id = $(this).attr('data');
            $('.new_db_table tr[data='+tr_id+']').remove();
        });
        
        $('body').on('change', '.field_default_type', function(){
            if($(this).val() == 'USER_DEFINED') $('input[name="field_default_value['+$(this).attr('data')+']"]').css({'display':'block'});
            else  $('input[name="field_default_value['+$(this).attr('data')+']"]').css({'display':'none'});
        });
        
        $('#send_new_dbtable').click(function(){
            $.ajax({
                url: '/dbeditor/newtables',
                type: 'post',
                data: $('#form_new_dbtable').serialize(),
                dataType: 'json',
                beforeSend: function() {
                    $('.modalDialog').css('display', 'block');
                    $('#ajaxResult').html('<p>Loading...</p>');
                },
                success: function(response) {
                    
                },
                error: function(xhr, ajaxOptions, thrownError) {
                    $('#ajaxResult p').remove();
                    $('#ajaxResult').append('Ошибка: '+thrownError);
                }
            });
        });
    });
});

$(document).ready(function() {
    $('a.full').click(function(){
        var data = $(this).attr('data');
        
        $.ajax({
            url: '/dbeditor/gettables/'+curentdatabase,
            type: 'post',
            data: {'tableName': data},
            dataType: 'json',
            beforeSend: function() {
                $('.modalDialog').css('display', 'block');
                $('#ajaxResult').html('<p>Loading...</p>');
            },
            success: function(response) {
                $('#ajaxResult p').remove();
                $('#ajaxResult_header').empty();
                $('#ajaxResult_header').append('<h4> Таблица <b>'+data+'</b>. <a class="listrecords" data="'+data+'">Показать записи</a></h4>');
                
                var table = '<table class="table"><tr><th>Название поля</th><th>Тип поля</th><th>Default</th><th>Key</th><th>Null</th><th>Extra</th><th>Действие</th></tr>';
                
                $.each(response, function(i, val){
                    table += '<tr><td>'+val.Field+'</td><td>'+val.Type+'</td><td>'+val.Default+'</td><td>'+val.Key+'</td><td>'+val.Null+'</td><td>'+val.Extra+'</td><td><a class="deleteColumn" data="'+val.Field+'">Удалить</a></td></tr>';
                });
                
                table +='</table>';
                
                $('#ajaxResult').append(table);
            },
            error: function(xhr, ajaxOptions, thrownError) {
                $('#ajaxResult p').remove();
                $('#ajaxResult').append('Ошибка: '+thrownError);
            }
        });
    });
});

$(document).ready(function() {
    $('#ajaxResult_header').on('click', 'a.listrecords', function(){
        var data = $(this).attr('data');
        
        $.ajax({
            url: '/dbeditor/gettables/'+curentdatabase,
            type: 'post',
            data: {'listrecords': data},
            dataType: 'json',
            beforeSend: function() {
                $('#ajaxResult').empty();
                $('#ajaxResult').html('<p>Loading...</p>');
            },
            success: function(response) {
                $('#ajaxResult p').remove();
                $('#ajaxResult_header').empty();
                $('#ajaxResult_header').append('<h4> Таблица <b>'+data+'</b></h4>');
                
                var table = '<table class="table">';
                    table += '<tr>';
                        $.each(response[0], function(i, val){
                            table += '<th>'+i+'</th>';
                        });
                        table += '<th>Действие</th>';
                    table += '</tr>';
                    $.each(response, function(i, val){
                        table += '<tr>';
                        $.each(val, function(key, value) {
                            table += '<td>'+value+'</td>';
                        });
                        table += '<td><a class="deleteRecord" data="'+val.id+'">Удалить запись</a>'
                        table += '</tr>';
                    });
                table += '</table>';
                $('#ajaxResult').append(table);
            },
            error: function(xhr, ajaxOptions, thrownError) {
                $('#ajaxResult p').remove();
                $('#ajaxResult').append('Ошибка: '+thrownError);
            }
        });
    });
});

$(document).ready(function() {
    $('a.addrecord').click(function(){
        var data = $(this).attr('data');
        
        $.ajax({
            url: '/dbeditor/gettables/'+curentdatabase,
            type: 'post',
            data: {'tableColumns': data},
            dataType: 'json',
            beforeSend: function() {
                $('.modalDialog').css('display', 'block');
                $('#ajaxResult').html('<p>Loading...</p>');
            },
            success: function(response) {
                $('#ajaxResult p').remove();
                $('#ajaxResult_header').empty();
                $('#ajaxResult_header').append('<h4>Добавить новую запись в <b>'+data+'</b></h4>');
                
                var table = '<table class="table"><tr><th>Поле</th><th>Значение</th></tr>';
                $.each(response, function(i, val){
					table += '<tr><td>'+val+'</td><td><input class="newRecord" type="text" name="'+val+'" /></td></tr>';
				});
				table += '</table>';
                table += '<button id="sendRecord">Добавить</button>';
				$('#ajaxResult').append(table);
            },
            error: function(xhr, ajaxOptions, thrownError) {
                $('#ajaxResult p').remove();
                $('#ajaxResult').append('Ошибка: '+thrownError);
            }
        });
    });
});

$(document).ready(function() {
    $('#ajaxResult').on('click', 'button#sendRecord', function(){
        var record = new Object();
        var data = $('#ajaxResult_header > h4 > b').text();
        
        $('input.newRecord').each(function(i, input) {
            record[$(input).attr('name')] = $(input).val();
        });
        
        $.ajax({
            url: '/dbeditor/gettables/'+curentdatabase,
            type: 'post',
            data: {'bdtable': data, 'newRecord': record},
            dataType: 'json',
            beforeSend: function() {
                $('#ajaxResult').empty();
                $('#ajaxResult').html('<p>Loading...</p>');
            },
            success: function(response) {
                if(response.ok) {
                    $('#ajaxResult p').replaceWith('Запись успешно добавлена! <a class="listrecords" data="'+data+'">Показать записи</a>');
                }
            },
            error: function(xhr, ajaxOptions, thrownError) {
                $('#ajaxResult p').replaceWith('Ошибка: '+thrownError);
            }
        });
    });
});

$(document).ready(function() {
    $('#ajaxResult').on('click', 'a.deleteRecord', function(){
        var id = $(this).attr('data');
        var nameTable = $('#ajaxResult_header > h4 > b').text();
        
        $.ajax({
            url: '/dbeditor/gettables/'+curentdatabase,
            type: 'post',
            data: {'nameTable': nameTable,'deleteRecord': id},
            dataType: 'json',
            beforeSend: function() {
                $('#ajaxResult').html('<p>Loading...</p>');
            },
            success: function(response) {
                if(response.ok) {
                    $('#ajaxResult p').replaceWith('Запись удалена! <a class="listrecords" data="'+nameTable+'">Показать записи</a>');
                }
            },
            error: function(xhr, ajaxOptions, thrownError) {
                $('#ajaxResult').replaceWith('Ошибка: '+thrownError);
            }
        });
    });
});

$(document).ready(function() {
    $('a.newcolunm').click(function(){
        var data = $(this).attr('data');
        
        $('#ajaxResult_header').empty();
        $('#ajaxResult').empty();
        
        var fields = '<table><tr><td>Название поля</td><td><input type="text" class="newColumn" name="name" />';
            fields += '<input type="hidden" class="newColumn" name="nameTable" value="'+data+'" /></td></tr>';
            fields += '<tr><td>Тип поля</td><td><input type="text" class="newColumn" name="type" /></td></tr>';
            fields += '<tr><td>Длина поля</td><td><input type="text" class="newColumn" name="length" /></td></tr>';
            fields += '<tr><td>Значение по умолчанию</td><td><input type="text" class="newColumn" name="default" /></td></tr>';
            fields += '<tr><td>AUTO_INCREMENT (PRIMARY)</td><td><input type="text" class="newColumn" name="AUTO_INCREMENT" /></td></tr>';
            fields += '<tr><td>Комментарий к полю</td><td><input type="text" class="newColumn" name="comment" /></td></tr>';
            fields += '<tr><td><button id="sendColumn">Добавить</button></td><td><p id="ColumnAddResult"></p></td></tr>';
            fields += '</table>';
        $('#ajaxResult_header').append('<div id="titleModule"><h4>Новое поле для '+data+'</h4></div><table class="table">');
        $('#ajaxResult').append(fields);
    });
});

$(document).ready(function() {
    $('#ajaxResult').on('click', 'button#sendColumn', function(){
        var column = new Object();
        var data = $('#titleModule h4').text();
        
        $('input.newColumn').each(function(i, input) {
            column[$(input).attr('name')] = $(input).val();
        });
        console.log(column);
        $.ajax({
            url: '/dbeditor/gettables/'+curentdatabase,
            type: 'post',
            data: {'nameTable': data, 'columnData': column},
            dataType: 'json',
            beforeSend: function() {
                $('#ColumnAddResult').html('<p>Loading...</p>');
            },
            success: function(response) {
                if(response.ok) {
                    $('#ajaxResult p').replaceWith('Колонка успешно добавлена! <a class="full" data="'+data+'"> Вернуться к '+data+'</a>');
                } else {
                    $('#ColumnAddResult').text(response.err);
                }
                
            },
            error: function(xhr, ajaxOptions, thrownError) {
                $('#ajaxResult p').replaceWith('Ошибка: '+thrownError);
            }
        });
    });
});

$(document).ready(function() {
    $('#ajaxResult').on('click', 'a.deleteColumn', function(){
        var nameColumn = $(this).attr('data');
        var nameTable = $('#ajaxResult_header > h4 > b').text();
        
        $.ajax({
            url: '/dbeditor/gettables/'+curentdatabase,
            type: 'post',
            data: {'nameTable': nameTable,'deleteColumn': nameColumn},
            dataType: 'json',
            beforeSend: function() {
                $('#ajaxResult').html('<p>Loading...</p>');
            },
            success: function(response) {
                if(response.ok) {
                    $('#ajaxResult p').replaceWith('Колонка удалена! <a class="listrecords" data="'+nameTable+'">Показать записи</a>');
                }
            },
            error: function(xhr, ajaxOptions, thrownError) {
                $('#ajaxResult p').replaceWith('Ошибка: '+thrownError);
            }
        });
    });
});